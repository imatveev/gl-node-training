<!DOCTYPE html>
<html>
    <head>
        <meta charset="utf-8">
        <title></title>
        <link rel="stylesheet" href="https://maxcdn.bootstrapcdn.com/bootstrap/3.3.7/css/bootstrap.min.css">
    </head>
    <body>
        <div class="prime-form">
            <div class="form-group">
                <label for="prime-min">Min</label>
                <input class=".form-control" id="prime-min" type="number" name="prime-min" value="32500000" placeholder="min">
            </div>
            <div class="form-group">
                <label for="prime-max">Max</label>
                <input class=".form-control" id="prime-max" type="number" name="prime-max" value="35500000" placeholder="max">
            </div>


            <button class="btn btn-default" id="prime-send" type="button" name="button">Send</button>
            <button class="btn btn-default" id="prime-get-list" type="button" name="button">Get list of primes</button>
            <button class="btn btn-default" id="create-user" type="button" name="button">Create user</button>
            <button class="btn btn-default" id="get-users" type="button" name="button">Create user</button>
        </div>
    </body>
    <style media="screen">
    .prime-form {
        position: absolute;
        width: 300px;
        height: 200px;
        z-index: 15;
        top: 50%;
        left: 50%;
        margin: -100px 0 0 -150px;
        text-align: center;
    }
    </style>
    <script type="text/javascript">
        let primeMinInput = document.querySelector('#prime-min');
        let primeMaxInput = document.querySelector('#prime-max');
        document.querySelector('#prime-send')
        .addEventListener('click', event => {
            let min = primeMinInput.value;
            let max = primeMaxInput.value;
            fetch(
                'http://localhost:3000/prime_number',
                {
                    headers: {
                        'Accept':       'application/json',
                        'Content-Type': 'application/json'
                    },
                    method: "POST",
                    body:   JSON.stringify([min, max])
                }
            )
            .then(res => res.json())
            .then(data => {
                console.log(data);
            });
        });
            document.querySelector('#prime-get-list')
            .addEventListener('click', event => {
                fetch(
                    'http://localhost:3000/all_primes',
                    {
                        headers: {
                            'Accept':       'application/json',
                            'Content-Type': 'application/json'
                        }
                    }
                )
                .then(res => res.json())
                .then(data => {
                    console.log(data);
                });
            });


            document.querySelector('#create-user')
            .addEventListener('click', event => {
                fetch(
                    'http://localhost:3000/users',
                    {
                        headers: {
                            'Accept':       'application/json',
                            'Content-Type': 'application/json'
                        },
                        method: "POST"
                    }
                )
                .then(res => res.json())
                .then(data => {
                    console.log(data);
                });
            });

            document.querySelector('#get-users')
            .addEventListener('click', event => {
                fetch(
                    'http://localhost:3000/users',
                    {
                        headers: {
                            'Accept':       'application/json',
                            'Content-Type': 'application/json'
                        }
                    }
                )
                .then(res => res.json())
                .then(data => {
                    console.log(data);
                });
            });
    </script>
</html>
